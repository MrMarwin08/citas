Sistema avanzado de reordenaci칩n de citas en toda la Biblioteca

Todas las citas de la aplicaci칩n, tanto en las pesta침as Todas, Favoritas, Memorizadas, como en cualquier Colecci칩n, deben incluir un sistema visual y funcional de reordenamiento manual.
1. 游닍 Secci칩n de control de orden en cada cita

A la derecha de cada cita aparecer치 una peque침a interfaz compuesta por:

    游댶 Una flecha hacia arriba: al pulsarla, la cita sube una posici칩n.

    游댷 Una flecha hacia abajo: al pulsarla, la cita baja una posici칩n.

    游댝 Una casilla num칠rica editable entre las dos flechas que indica la posici칩n actual de la cita.

Esta casilla debe permitir editar directamente el n칰mero para cambiar la posici칩n sin ventanas emergentes ni confirmaciones adicionales.
2. 游 Reorganizaci칩n inteligente del resto de citas

El sistema debe reorganizar autom치ticamente las dem치s citas para mantener una secuencia l칩gica sin duplicados:

    Ejemplo: Si existen 8 citas y se cambia la posici칩n de la cita n칰mero 2 a la posici칩n 5:

        La cita movida pasa a ocupar la posici칩n 5.

        Las citas que estaban en las posiciones 3, 4 y 5 suben una posici칩n (ahora ser치n 2, 3 y 4).

        Las citas 6, 7 y 8 mantienen su orden.

Esto debe aplicarse tanto al editar la posici칩n manualmente como al utilizar las flechas.

Adem치s, los n칰meros de posici칩n se actualizar치n autom치ticamente tras cada cambio.
3. 九꽲잺 Edici칩n directa del n칰mero

    Al tocar la casilla del n칰mero, el usuario podr치 introducir una nueva posici칩n manualmente.

    El campo ser치 editable en l칤nea, sin abrir men칰s ni pantallas adicionales.

    Al confirmar el nuevo n칰mero (por ejemplo, al hacer Enter o perder el foco), el sistema reorganizar치 din치micamente las dem치s citas siguiendo la l칩gica descrita en el punto anterior.

4. 驕뢢잺 Reordenamiento mediante pulsaci칩n prolongada (drag & drop t치ctil)

El sistema tambi칠n debe permitir cambiar el orden de las citas manteniendo pulsada una cita:

    Al mantener pulsada una cita:

        Esta se elevar치 ligeramente con una animaci칩n indicando que est치 en modo "movible".

        A partir de ese momento seguir치 el movimiento vertical del dedo o cursor, pero solo en direcci칩n vertical.

游늸 Inserci칩n precisa

    Al mover una cita arrastr치ndola:

        No se intercambiar치 su lugar con otra directamente.

        En su lugar, podr치 insertarse entre otras dos citas.

        Si se suelta entre dos citas, se colocar치 exactamente en medio.

        Si se suelta encima de otra cita, se determinar치 si colocarla arriba o debajo, seg칰n la mitad superior o inferior donde se haya soltado.

Este sistema permitir치 una organizaci칩n muy precisa, con animaciones suaves que reflejen visualmente el nuevo orden y el desplazamiento de las dem치s citas en tiempo real.


Todos los cambios de orden, ya sean mediante flechas, edici칩n directa o arrastre t치ctil, deben actualizarse y persistirse inmediatamente en la base de datos PostgreSQL:
Tipo de aplicaci칩n: Multiplataforma (iOS y Android)
Formato objetivo: Solo dispositivos m칩viles (relaci칩n de aspecto vertical, 16:9 / 18:9)
Base de datos funcional:
postgresql://neondb_owner:npg_qOIUAGwW4N9p@ep-cool-dust-a2xjgv3q-pooler.eu-central-1.aws.neon.tech/neondb?sslmode=require